#+TITLE: Arch Linux Post-installation
#+AUTHOR: Yuanbo Han
#+EMAIL: yuanbo.han@gmail.com
#+OPTIONS: toc:2

- https://wiki.archlinux.org/title/Installation_guide
- https://wiki.archlinux.org/title/General_recommendations
- https://github.com/yuanbohan/dot-files

** Window Manager (i3wm)

sudo pacman i3-gaps i3status i3blocks i3lock

** Network (netctl)

- sudo pacman -S netctl dhcpcd
- systemctl start/enable netctl-auto@<interface>

- https://wiki.archlinux.org/title/netctl
- https://man.archlinux.org/man/netctl-auto.1.en

place your profiles under /etc/netctl folder. The following two profiles are from my profiles

#+begin_src shell
  ## this profile is for WPA Personal, or WPA-PSK, mostly used in home
  Description='A simple WPA encrypted wireless connection'
  Interface=<wifi-interface>
  Connection=wireless
  Security=wpa
  IP=dhcp
  ESSID='<your-wifi-ssid>'
  Key='<your key>'
  # Uncomment this if your ssid is hidden
  # Hidden=yes
  # Set a priority for automatic profile selection
  Priority=10
#+end_src

#+begin_src shell
  Description='A wireless connection using a custom network block configuration'
  Interface=<wifi-interface>
  Connection=wireless
  Security=wpa-configsection
  ESSID=<your-wifi-ssid>
  IP=dhcp
  WPAConfigSection=(
      'ssid="<your-wifi-ssid>"'
      'identity="<your identity>"'
      'password="<your password>"'
      'priority=1'
      'phase2="auth=MSCHAPV2"'
      'key_mgmt=WPA-EAP'
  )
#+end_src

** Sound (pipewire)

sudo pacman -S pipewire pipewire-pulse pipewire-media-session

** Bluetooth (bluez)

- sudo pacman -S bluez bluez-utils blueman
- sudo systemctl start/enable bluetooth
- blueman-manager // gui

** Xorg Keyboard Layout Config

sodu pacman -S org-setxkbmap

- ad hoc
  localectl set-x11-keymap us "" colemak

- i3 config (colemak, swap ctrl with caps, left alt with left win)
  exec_always --no-startup-id setxkbmap us -variant colemak -option "ctrl:swapcaps,altwin:swap_lalt_lwin"

options in /usr/share/X11/xkb/rules/base.lst

** Shell & Terminal emulator

- zsh
- alacritty

** Editor

Emacs

** Input (Chinese)

1. font
   sudo pacman -S adobe-source-han-sans-cn-fonts adobe-source-han-sans-tw-fonts adobe-source-han-sans-hk-fonts adobe-source-han-serif-cn-fonts adobe-source-han-serif-tw-fonts adobe-source-han-serif-hk-fonts

2. fcitx
   sudo pacman -S fcitx fcitx-googlepinyin fcitx-im fcitx-configtool

3. launch fcitx-configtool
   - add Google pinyin (in Input Method)
   - change your key to switch input method (I use Ctrl+Shift+Space)

4. in xinitrc configuration
   export GTK_IM_MODULE=fcitx
   export QT_IM_MODULE=fcitx
   export XMODIFIERS=@im=fcitx
5. in i3
   exec --no-startup-id fcitx

** Screen Capture

flameshot

** Softwares

- yay htop tig cowsay cmatrix sl
- feh rofi ranger fzf picom
- xdg-user-dirs firefox vlc docker code
- openssh git tig htop tree inetutils lsof zip unzip ripgrep curl wget httpie tldr jq ripgrep neofetch httpie

** Pacman cheat sheet

- ~pacman -Syu~ // update system
- ~pacman -Syy~ // update database
- ~pacman -S package_name~ // install online
- ~pacman -Ss package_name~ // search online
- ~pacman -U /path/to/the/package~ //// install offline
- ~pacman -R~ or ~pacman -Rs~ // remove software
- ~pacman -Qs package_name~ // search local
- ~pacman -Qe~ // list all installed softwares
- ~pacman -Qm~ // List Installed Packages that are not in the Official Repositories

pacman mirrorlist

#+begin_src text
  ################################################################################
  ################# Arch Linux mirrorlist generated by Reflector #################
  ################################################################################

  # With:       reflector @/etc/xdg/reflector/reflector.conf
  # When:       2022-11-05 09:59:19 UTC
  # From:       https://archlinux.org/mirrors/status/json/
  # Retrieved:  2022-11-05 09:57:25 UTC
  # Last Check: 2022-11-05 09:49:07 UTC

  Server = http://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
  Server = https://mirrors.aliyun.com/archlinux/$repo/os/$arch
  Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
  Server = https://mirrors.163.com/archlinux/$repo/os/$arch
  Server = https://archlinux.uk.mirror.allworldit.com/archlinux/$repo/os/$arch
  Server = https://arch.mirror.constant.com/$repo/os/$arch
  Server = https://mirror.theo546.fr/archlinux/$repo/os/$arch
  Server = https://ftp.acc.umu.se/mirror/archlinux/$repo/os/$arch
  Server = https://mirror.lty.me/archlinux/$repo/os/$arch
  Server = https://mirror.chaoticum.net/arch/$repo/os/$arch
  Server = https://arlm.tyzoid.com/$repo/os/$arch
  Server = https://geo.mirror.pkgbuild.com/$repo/os/$arch
  Server = https://america.mirror.pkgbuild.com/$repo/os/$arch
  Server = https://asia.mirror.pkgbuild.com/$repo/os/$arch
  Server = https://europe.mirror.pkgbuild.com/$repo/os/$arch
  Server = https://archlinux.thaller.ws/$repo/os/$arch
  Server = https://phinau.de/arch/$repo/os/$arch
  Server = https://mirror.the-repo.org/ArchMirror/$repo/os/$arch
  Server = https://mirror.osbeck.com/archlinux/$repo/os/$arch
  Server = https://ftp.halifax.rwth-aachen.de/archlinux/$repo/os/$arch
  Server = https://mirror.pseudoform.org/$repo/os/$arch
  Server = https://pkg.fef.moe/archlinux/$repo/os/$arch
  Server = https://seoul.mirror.pkgbuild.com/$repo/os/$arch
  Server = https://arch.jensgutermuth.de/$repo/os/$arch
#+end_src

** Dot files and Screenshot

[[https://github.com/yuanbohan/dot-files][my personal dot-files]]

#+caption: caption of the image
[[file:https://github.com/yuanbohan/dot-files/blob/master/screenshot.png]]
